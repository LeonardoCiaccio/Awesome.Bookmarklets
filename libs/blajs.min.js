!function(){"use strict";function n(){try{{"test".trim()}return console.log("[ "+h.name+" ] Check Browser !"),i("Browser is ok !"),!0}catch(n){return!1}}function e(n,e){var t=[],r=n.length,i=0;for(i;r>i;i++)e(n[i])&&t.push(n[i]);return t}function t(n){return n&&"string"==typeof n&&n.trim().length>0?n.trim():null}function r(n){return n&&"object"==typeof n?n:null}function i(n){return d.debug&&console.log("[ "+h.name+" ] "+n),!1}function o(n){throw new Error("[ "+h.name+" ] "+n)}function u(n){try{return"function"==typeof n?n():n||null}catch(e){return i("Error suppressed : "+e.message),null}}function a(n){if(n=t(n),!n)return!1;var e=n.replace(d.reTest,"");return""===e}function c(n,t){return e(n,function(n){return n.bla&&n.bla===t})}function l(n){if(i("Prepare to load new dictionary ..."),n=r(n),!n)return-1;if(n=u(function(){return a(n.bla)?n:null})||null,null!=n){i("Loading dictionary '"+n.bla+"' manualy ...");var e=c(p,n.bla);return!e||e.length<1?(p.push(n),i("Dictionary '"+n.bla+"' loaded manualy !"),1):(i("Dictionary '"+n.bla+"' exist, "+e.length+" time !"),100+e.length)}return 0}function f(n){if(i("Get cookie : len "+document.cookie.length),null==(n=t(n)))return null;for(var e=n+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var u=r[o];" "==u.charAt(0);)u=u.substring(1);if(-1!=u.indexOf(e))return t(u.substring(e.length,u.length))}return null}function s(n,e,t){try{if(e.addEventListener)return e.addEventListener(n,t,!1),!0;if(e.attachEvent){{e.attachEvent("on"+n,t)}return!0}return!1}catch(r){return!1}}function g(){var n=decodeURIComponent(document.location.href),e=d.rePath.exec(n);if(e)return d.reTest.exec(e).toString();if(e=d.rePara.exec(n)||null)return d.reTest.exec(e).toString();try{if(e=document.getElementsByTagName("html")[0].getAttribute("lang"))return d.reTest.exec(e).toString()}catch(t){i("Problem with HTML tag ...")}return e=f("lang")||null,e?d.reTest.exec(e).toString():""}var h={author:"Leonardo Ciaccio",contact:"leonardo.ciaccio@gmail.com",version:"1.0.3",name:"Blajs",description:"Resource for multilanguage apps !",contributors:[]},d={debug:!1,reTest:/[a-z]{2,3}\-[A-Z]{2,3}/g,rePath:/\/[a-z]{2,3}\-[A-Z]{2,3}\//g,rePara:/lang\=[a-z]{2,3}\-[A-Z]{2,3}/g},m=Array.prototype.slice,p=[];return n()?void(window.Bla={Debug:function(n){d.debug=n||!1},Sniff:function(){return g()},Load:function(n,e){e=e||function(){},n=r(n),n||o("'Load' function require an array of string !");var t=function(n,e){if(!n||n.length<1)return e();var r=document.createElement("script");r.setAttribute("src",n[0]),n.shift(),document.head.appendChild(r),s("load",r,function(){t(n,e)})};t(n,e)},Bla:function(n){return l(n)},Dictionarys:function(){return p.slice()},i18n:function y(n){n=t(n),n||o("'i18n' function require a string !"),a(n)||o("'i18n' function require a good format for language reference !");var e=c(p,n);(!e||e.length<1)&&o("Please load new dictionary first for this language "+n),e.length>1&&o("Strange, i have more dictionary for this language "+e.length+" time !"),this.dictionary=c(p,n).slice()[0],y.prototype.Bla=function(n){var e=this.dictionary;if(!n)return"";var o=t(n),a=[];if(null!=o)a=m.call(arguments,1);else if(o=r(n),null!=o){var c=o.shift();a=o.slice(),o=c}if(!o)return"";var l=!1,f=!1;a.length>0&&(l="boolean"==typeof a[0],f=l&&a[0]===!0);var s=u(function(){return f?e[o].more:e[o].one})||"";return l&&a.shift(),s=s.replace(/([^%]|^)%(?:(\d+)\$)?n/g,function(n,e,t){return t?e+a[parseInt(t)-1]:e+a.shift()}).replace(/%%n/g,"%n"),i("Translated '"+s+"'"),s}}}):!1}();